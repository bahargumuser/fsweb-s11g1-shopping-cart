{"ast":null,"code":"import React, { useEffect, createContext, useReducer, useContext, useState } from 'react';\nvar isServer = typeof window === 'undefined';\nvar useLocalStorageSync = function useLocalStorageSync(state, key) {\n  useEffect(function () {\n    if (key && !isServer) {\n      window.localStorage.setItem(key, JSON.stringify(state));\n    }\n  }, [state, key]);\n};\nvar getFromLocalStorage = function getFromLocalStorage(key) {\n  if (!key || isServer) return null;\n  var value = window.localStorage.getItem(key);\n  if (value) return JSON.parse(value);\n  return null;\n};\nvar createContextStore = function createContextStore(storeReducer, initialState, key) {\n  var localStorageState = getFromLocalStorage(key);\n  var initialOrSavedState = localStorageState != null ? localStorageState : initialState;\n  var DispatchContext = createContext({});\n  var StoreContext = createContext(initialOrSavedState);\n  var StoreProvider = function StoreProvider(_ref) {\n    var children = _ref.children;\n    var _useReducer = useReducer(storeReducer, initialOrSavedState),\n      store = _useReducer[0],\n      dispatch = _useReducer[1];\n    useLocalStorageSync(store, key);\n    return React.createElement(DispatchContext.Provider, {\n      value: dispatch\n    }, React.createElement(StoreContext.Provider, {\n      value: store\n    }, children));\n  };\n  var useDispatch = function useDispatch() {\n    return useContext(DispatchContext);\n  };\n  var useStore = function useStore() {\n    return useContext(StoreContext);\n  };\n  return [StoreProvider, useStore, useDispatch];\n};\nvar createContextState = function createContextState(initialState, key) {\n  var localStorageState = getFromLocalStorage(key);\n  var initialOrSavedState = localStorageState != null ? localStorageState : initialState;\n  var SetStateContext = createContext({});\n  var StateContext = createContext(initialOrSavedState);\n  var StateProvider = function StateProvider(_ref) {\n    var children = _ref.children;\n    var _useState = useState(initialOrSavedState),\n      state = _useState[0],\n      setState = _useState[1];\n    useLocalStorageSync(state, key);\n    return React.createElement(SetStateContext.Provider, {\n      value: setState\n    }, React.createElement(StateContext.Provider, {\n      value: state\n    }, children));\n  };\n  var useContextSetState = function useContextSetState() {\n    return useContext(SetStateContext);\n  };\n  var useContextState = function useContextState() {\n    return useContext(StateContext);\n  };\n  return [StateProvider, useContextState, useContextSetState];\n};\nexport { createContextState, createContextStore };","map":{"version":3,"names":["isServer","window","useLocalStorageSync","state","key","useEffect","localStorage","setItem","JSON","stringify","getFromLocalStorage","value","getItem","parse","createContextStore","storeReducer","initialState","localStorageState","initialOrSavedState","DispatchContext","createContext","StoreContext","StoreProvider","_ref","children","_useReducer","useReducer","store","dispatch","React","createElement","Provider","useDispatch","useContext","useStore","createContextState","SetStateContext","StateContext","StateProvider","_useState","useState","setState","useContextSetState","useContextState"],"sources":["C:\\Users\\Bahar\\Desktop\\fswebs7g2teambuilder\\fsweb-s11g1-shopping-cart\\node_modules\\react-create-context\\src\\constants\\isServer.ts","C:\\Users\\Bahar\\Desktop\\fswebs7g2teambuilder\\fsweb-s11g1-shopping-cart\\node_modules\\react-create-context\\src\\hooks\\useLocalStorageSync.ts","C:\\Users\\Bahar\\Desktop\\fswebs7g2teambuilder\\fsweb-s11g1-shopping-cart\\node_modules\\react-create-context\\src\\utils\\getFromLocalStorage.ts","C:\\Users\\Bahar\\Desktop\\fswebs7g2teambuilder\\fsweb-s11g1-shopping-cart\\node_modules\\react-create-context\\src\\createContextStore.tsx","C:\\Users\\Bahar\\Desktop\\fswebs7g2teambuilder\\fsweb-s11g1-shopping-cart\\node_modules\\react-create-context\\src\\createContextState.tsx"],"sourcesContent":["export const isServer = typeof window === 'undefined';\n","import { useEffect } from 'react';\nimport { isServer } from '../constants/isServer';\n\nexport const useLocalStorageSync = <State>(state: State, key?: string) => {\n  useEffect(() => {\n    if (key && !isServer) {\n      window.localStorage.setItem(key, JSON.stringify(state));\n    }\n  }, [state, key]);\n};\n","import { isServer } from '../constants/isServer';\n\nexport const getFromLocalStorage = <State>(key?: string): State | null => {\n  if (!key || isServer) return null;\n\n  const value = window.localStorage.getItem(key);\n\n  if (value) return JSON.parse(value);\n\n  return null;\n};\n","import React, {\n  createContext as reactCreateContext,\n  Dispatch,\n  FC,\n  Reducer,\n  useContext,\n  useReducer,\n} from 'react';\nimport { useLocalStorageSync } from './hooks/useLocalStorageSync';\nimport { getFromLocalStorage } from './utils/getFromLocalStorage';\n\nexport const createContextStore = <State, Actions>(\n  storeReducer: Reducer<State, Actions>,\n  initialState: State,\n  key?: string\n): [FC, () => State, () => Dispatch<Actions>] => {\n  const localStorageState = getFromLocalStorage<State>(key);\n  const initialOrSavedState = localStorageState ?? initialState;\n\n  const DispatchContext = reactCreateContext({});\n  const StoreContext = reactCreateContext(initialOrSavedState);\n\n  const StoreProvider: FC = ({ children }) => {\n    const [store, dispatch] = useReducer(storeReducer, initialOrSavedState);\n\n    useLocalStorageSync(store, key);\n\n    return (\n      <DispatchContext.Provider value={dispatch}>\n        <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\n      </DispatchContext.Provider>\n    );\n  };\n\n  const useDispatch = () => useContext(DispatchContext) as Dispatch<Actions>;\n\n  const useStore = () => useContext(StoreContext);\n\n  return [StoreProvider, useStore, useDispatch];\n};\n","import React, {\n  createContext as reactCreateContext,\n  SetStateAction,\n  Dispatch,\n  FC,\n  useContext,\n  useState,\n} from 'react';\nimport { useLocalStorageSync } from './hooks/useLocalStorageSync';\nimport { getFromLocalStorage } from './utils/getFromLocalStorage';\n\nexport const createContextState = <State,>(\n  initialState: State,\n  key?: string\n): [FC, () => State, () => Dispatch<SetStateAction<State>>] => {\n  const localStorageState = getFromLocalStorage<State>(key);\n  const initialOrSavedState = localStorageState ?? initialState;\n\n  const SetStateContext = reactCreateContext({});\n  const StateContext = reactCreateContext(initialOrSavedState);\n\n  const StateProvider: FC = ({ children }) => {\n    const [state, setState] = useState(initialOrSavedState);\n\n    useLocalStorageSync(state, key);\n\n    return (\n      <SetStateContext.Provider value={setState}>\n        <StateContext.Provider value={state}>{children}</StateContext.Provider>\n      </SetStateContext.Provider>\n    );\n  };\n\n  const useContextSetState = () =>\n    useContext(SetStateContext) as Dispatch<SetStateAction<State>>;\n\n  const useContextState = () => useContext<State>(StateContext);\n\n  return [StateProvider, useContextState, useContextSetState];\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}